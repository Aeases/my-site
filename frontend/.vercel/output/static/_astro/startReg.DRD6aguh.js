import{j as a}from"./jsx-runtime.Biu9vCfE.js";import{B as c,s as l}from"./button.DfXbhx4P.js";import"./index.CSLRt44l.js";function y(){return a.jsx(c,{variant:"outline",onClick:u,children:"Register"})}async function u(){const e="localhost:8080",n=await fetch(`https://${e}/register_start/testUser`,{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include"});try{let t=await l(await n.json().then(r=>r.publicKey));console.info(t);let i={extensions:{},id:t.id,rawId:t.rawId,response:{attestationObject:t.response.attestationObject,clientDataJSON:t.response.clientDataJSON,transports:null},type:t.type},s=JSON.stringify(i);console.warn(s);const o=(await fetch(`https://${e}/register_finish`,{method:"POST",headers:{"Content-Type":"application/json"},body:s,credentials:"include"})).status;o==200?console.warn("Verification Sucessful! you are registered."):console.error(`Verification of Registration unsuccessfull, you are not registered. (${o})`)}catch(t){console.log("fucl"),console.error(t);return}}export{y as default};
